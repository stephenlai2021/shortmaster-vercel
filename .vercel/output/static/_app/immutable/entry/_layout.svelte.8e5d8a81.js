import{C as nt,D as zt,E as Ye,F as Gt,G as qt,S as pe,i as ge,s as be,k,a as C,l as E,m as L,h,c as S,n as p,H as Se,b as T,I as _,J as oe,v as Ee,d as z,f as $e,g as R,K as Ue,L as Z,o as Pt,M as Ft,N as x,O as Ht,e as Le,P as Xt,x as ut,y as re,z as fe,A as ie,Q as Jt,R as Zt,B as ae,T as Yt,U as ct,V as Qt,W as Kt,X as xt,Y as st,Z as en,_ as tn,$ as nn,a0 as ye,q as P,r as W,p as we,u as G,a1 as Wt,a2 as lt,a3 as J,a4 as je,a5 as Be,a6 as ht,a7 as sn,a8 as ln,a9 as Re,aa as Ne,w as rn,ab as an,ac as on,ad as fn,ae as un,af as cn}from"../chunks/index.c1267f9a.js";import{t as Qe,w as De,m as Ie,b as Ke,a as Ae,c as Ve,d as ze,e as Ge,f as qe,g as Fe,h as He,i as Xe,j as Je}from"../chunks/SvelteToast.svelte_svelte_type_style_lang.3cf276ba.js";import{g as dt,i as hn}from"../chunks/navigation.b3b4bf49.js";import{s as jt}from"../chunks/supabase.1462ff8c.js";import{w as dn}from"../chunks/index.c5f87819.js";import"../chunks/singletons.2d7ccb68.js";import{p as rt}from"../chunks/stores.897b46c1.js";import{t as Me,l as Te}from"../chunks/translations.1a06fbbc.js";import{I as mn}from"../chunks/shormaster_logo-removebg.deb12ba5.js";import{e as Bt}from"../chunks/forms.e30f43e0.js";import{I as _n}from"../chunks/IconSister.8868d701.js";function it(l){const e=l-1;return e*e*e+1}function xe(l,{delay:e=0,duration:t=400,easing:n=nt}={}){const s=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:i=>`opacity: ${i*s}`}}function pn(l,{delay:e=0,duration:t=400,easing:n=it,x:s=0,y:i=0,opacity:a=0}={}){const r=getComputedStyle(l),o=+r.opacity,f=r.transform==="none"?"":r.transform,m=o*(1-a);return{delay:e,duration:t,easing:n,css:(c,u)=>`
			transform: ${f} translate(${(1-c)*s}px, ${(1-c)*i}px);
			opacity: ${o-m*u}`}}function gn(l,{from:e,to:t},n={}){const s=getComputedStyle(l),i=s.transform==="none"?"":s.transform,[a,r]=s.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*a/t.width-(t.left+a),f=e.top+e.height*r/t.height-(t.top+r),{delay:m=0,duration:c=b=>Math.sqrt(b)*120,easing:u=it}=n;return{delay:m,duration:zt(c)?c(Math.sqrt(o*o+f*f)):c,easing:u,css:(b,d)=>{const w=d*o,v=d*f,$=b+d*e.width/t.width,y=b+d*e.height/t.height;return`transform: ${i} translate(${w}px, ${v}px) scale(${$}, ${y});`}}}function mt(l){return Object.prototype.toString.call(l)==="[object Date]"}function et(l,e){if(l===e||l!==l)return()=>l;const t=typeof l;if(t!==typeof e||Array.isArray(l)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(l)){const n=e.map((s,i)=>et(l[i],s));return s=>n.map(i=>i(s))}if(t==="object"){if(!l||!e)throw new Error("Object cannot be null");if(mt(l)&&mt(e)){l=l.getTime(),e=e.getTime();const i=e-l;return a=>new Date(l+a*i)}const n=Object.keys(e),s={};return n.forEach(i=>{s[i]=et(l[i],e[i])}),i=>{const a={};return n.forEach(r=>{a[r]=s[r](i)}),a}}if(t==="number"){const n=e-l;return s=>l+s*n}throw new Error(`Cannot interpolate ${t} values`)}function bn(l,e={}){const t=dn(l);let n,s=l;function i(a,r){if(l==null)return t.set(l=a),Promise.resolve();s=a;let o=n,f=!1,{delay:m=0,duration:c=400,easing:u=nt,interpolate:b=et}=Ye(Ye({},e),r);if(c===0)return o&&(o.abort(),o=null),t.set(l=s),Promise.resolve();const d=Gt()+m;let w;return n=qt(v=>{if(v<d)return!0;f||(w=b(l,a),typeof c=="function"&&(c=c(l,a)),f=!0),o&&(o.abort(),o=null);const $=v-d;return $>c?(t.set(l=a),!1):(t.set(l=w(u($/c))),!0)}),n.promise}return{set:i,update:(a,r)=>i(a(s,l),r),subscribe:t.subscribe}}function vn(l){let e,t=l[0].msg+"",n;return{c(){e=new Ht(!1),n=Le(),this.h()},l(s){e=Xt(s,!1),n=Le(),this.h()},h(){e.a=n},m(s,i){e.m(t,s,i),T(s,n,i)},p(s,i){i&1&&t!==(t=s[0].msg+"")&&e.p(t)},i:x,o:x,d(s){s&&h(n),s&&e.d()}}}function wn(l){let e,t,n;const s=[l[2]];var i=l[0].component.src;function a(r){let o={};for(let f=0;f<s.length;f+=1)o=Ye(o,s[f]);return{props:o}}return i&&(e=ut(i,a())),{c(){e&&re(e.$$.fragment),t=Le()},l(r){e&&fe(e.$$.fragment,r),t=Le()},m(r,o){e&&ie(e,r,o),T(r,t,o),n=!0},p(r,o){const f=o&4?Jt(s,[Zt(r[2])]):{};if(i!==(i=r[0].component.src)){if(e){Ee();const m=e;z(m.$$.fragment,1,0,()=>{ae(m,1)}),$e()}i?(e=ut(i,a()),re(e.$$.fragment),R(e.$$.fragment,1),ie(e,t.parentNode,t)):e=null}else i&&e.$set(f)},i(r){n||(e&&R(e.$$.fragment,r),n=!0)},o(r){e&&z(e.$$.fragment,r),n=!1},d(r){r&&h(t),e&&ae(e,r)}}}function _t(l){let e,t,n;return{c(){e=k("div"),this.h()},l(s){e=E(s,"DIV",{class:!0,role:!0,tabindex:!0}),L(e).forEach(h),this.h()},h(){p(e,"class","_toastBtn pe svelte-95rq8t"),p(e,"role","button"),p(e,"tabindex","0")},m(s,i){T(s,e,i),t||(n=[oe(e,"click",l[4]),oe(e,"keydown",l[8])],t=!0)},p:x,d(s){s&&h(e),t=!1,Ue(n)}}}function kn(l){let e,t,n,s,i,a,r,o,f,m;const c=[wn,vn],u=[];function b(w,v){return w[0].component?0:1}n=b(l),s=u[n]=c[n](l);let d=l[0].dismissable&&_t(l);return{c(){e=k("div"),t=k("div"),s.c(),i=C(),d&&d.c(),a=C(),r=k("progress"),this.h()},l(w){e=E(w,"DIV",{class:!0});var v=L(e);t=E(v,"DIV",{role:!0,class:!0});var $=L(t);s.l($),$.forEach(h),i=S(v),d&&d.l(v),a=S(v),r=E(v,"PROGRESS",{class:!0}),L(r).forEach(h),v.forEach(h),this.h()},h(){p(t,"role","status"),p(t,"class","_toastMsg svelte-95rq8t"),Se(t,"pe",l[0].component),p(r,"class","_toastBar svelte-95rq8t"),r.value=l[1],p(e,"class","_toastItem svelte-95rq8t"),Se(e,"pe",l[0].pausable)},m(w,v){T(w,e,v),_(e,t),u[n].m(t,null),_(e,i),d&&d.m(e,null),_(e,a),_(e,r),o=!0,f||(m=[oe(e,"mouseenter",l[9]),oe(e,"mouseleave",l[6])],f=!0)},p(w,[v]){let $=n;n=b(w),n===$?u[n].p(w,v):(Ee(),z(u[$],1,1,()=>{u[$]=null}),$e(),s=u[n],s?s.p(w,v):(s=u[n]=c[n](w),s.c()),R(s,1),s.m(t,null)),(!o||v&1)&&Se(t,"pe",w[0].component),w[0].dismissable?d?d.p(w,v):(d=_t(w),d.c(),d.m(e,a)):d&&(d.d(1),d=null),(!o||v&2)&&(r.value=w[1]),(!o||v&1)&&Se(e,"pe",w[0].pausable)},i(w){o||(R(s),o=!0)},o(w){z(s),o=!1},d(w){w&&h(e),u[n].d(),d&&d.d(),f=!1,Ue(m)}}}function Ze(l,e="undefined"){return typeof l===e}function En(l,e,t){let n,{item:s}=e,i=s.initial,a=i,r=!1,o={},f;const m=bn(s.initial,{duration:s.duration,easing:nt});Z(l,m,y=>t(1,n=y));function c(){Qe.pop(s.id)}function u(){(n===1||n===0)&&c()}function b(){!r&&n!==i&&(m.set(n,{duration:0}),r=!0)}function d(){if(r){const y=s.duration,B=y-y*((n-a)/(i-a));m.set(i,{duration:B}).then(u),r=!1}}function w(y=document){if(Ze(y.hidden))return;const B=()=>y.hidden?b():d(),g="visibilitychange";y.addEventListener(g,B),f=()=>y.removeEventListener(g,B),B()}Pt(w),Ft(()=>{Ze(s.onpop,"function")&&s.onpop(s.id),f&&f()});const v=y=>{y instanceof KeyboardEvent&&["Enter"," "].includes(y.key)&&c()},$=()=>{s.pausable&&b()};return l.$$set=y=>{"item"in y&&t(0,s=y.item)},l.$$.update=()=>{if(l.$$.dirty&1&&(Ze(s.progress)||t(0,s.next=s.progress,s)),l.$$.dirty&131&&i!==s.next&&(t(7,i=s.next),a=n,r=!1,m.set(i).then(u)),l.$$.dirty&1&&s.component){const{props:y={},sendIdTo:B}=s.component;t(2,o={...y,...B&&{[B]:s.id}})}},[s,n,o,m,c,b,d,i,v,$]}class $n extends pe{constructor(e){super(),ge(this,e,En,kn,be,{item:0})}}function pt(l,e,t){const n=l.slice();return n[4]=e[t],n}function gt(l,e){let t,n,s,i,a,r,o,f,m=x,c;return n=new $n({props:{item:e[4]}}),{key:l,first:null,c(){t=k("li"),re(n.$$.fragment),s=C(),this.h()},l(u){t=E(u,"LI",{class:!0,style:!0});var b=L(t);fe(n.$$.fragment,b),s=S(b),b.forEach(h),this.h()},h(){p(t,"class",i=ct(e[4].classes.join(" "))+" svelte-1u812xz"),p(t,"style",a=bt(e[4].theme)),this.first=t},m(u,b){T(u,t,b),ie(n,t,null),_(t,s),c=!0},p(u,b){e=u;const d={};b&1&&(d.item=e[4]),n.$set(d),(!c||b&1&&i!==(i=ct(e[4].classes.join(" "))+" svelte-1u812xz"))&&p(t,"class",i),(!c||b&1&&a!==(a=bt(e[4].theme)))&&p(t,"style",a)},r(){f=t.getBoundingClientRect()},f(){Qt(t),m(),Kt(t,f)},a(){m(),m=xt(t,f,gn,{duration:200})},i(u){c||(R(n.$$.fragment,u),st(()=>{o&&o.end(1),r=en(t,pn,e[4].intro),r.start()}),c=!0)},o(u){z(n.$$.fragment,u),r&&r.invalidate(),o=tn(t,xe,{}),c=!1},d(u){u&&h(t),ae(n),u&&o&&o.end()}}}function yn(l){let e,t=[],n=new Map,s,i=l[0];const a=r=>r[4].id;for(let r=0;r<i.length;r+=1){let o=pt(l,i,r),f=a(o);n.set(f,t[r]=gt(f,o))}return{c(){e=k("ul");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=E(r,"UL",{class:!0});var o=L(e);for(let f=0;f<t.length;f+=1)t[f].l(o);o.forEach(h),this.h()},h(){p(e,"class","_toastContainer svelte-1u812xz")},m(r,o){T(r,e,o);for(let f=0;f<t.length;f+=1)t[f].m(e,null);s=!0},p(r,[o]){if(o&1){i=r[0],Ee();for(let f=0;f<t.length;f+=1)t[f].r();t=Yt(t,o,a,1,r,i,n,e,nn,gt,null,pt);for(let f=0;f<t.length;f+=1)t[f].a();$e()}},i(r){if(!s){for(let o=0;o<i.length;o+=1)R(t[o]);s=!0}},o(r){for(let o=0;o<t.length;o+=1)z(t[o]);s=!1},d(r){r&&h(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function bt(l){return Object.keys(l).reduce((e,t)=>`${e}${t}:${l[t]};`,"")}function Ln(l,e,t){let n;Z(l,Qe,r=>t(3,n=r));let{options:s={}}=e,{target:i="default"}=e,a=[];return l.$$set=r=>{"options"in r&&t(1,s=r.options),"target"in r&&t(2,i=r.target)},l.$$.update=()=>{l.$$.dirty&6&&Qe._init(i,s),l.$$.dirty&12&&t(0,a=n.filter(r=>r.target===i))},[a,s,i,n]}class In extends pe{constructor(e){super(),ge(this,e,Ln,yn,be,{options:1,target:2})}}/*! js-cookie v3.0.1 | MIT */function Oe(l){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)l[n]=t[n]}return l}var Cn={read:function(l){return l[0]==='"'&&(l=l.slice(1,-1)),l.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(l){return encodeURIComponent(l).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function tt(l,e){function t(s,i,a){if(!(typeof document>"u")){a=Oe({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var o in a)a[o]&&(r+="; "+o,a[o]!==!0&&(r+="="+a[o].split(";")[0]));return document.cookie=s+"="+l.write(i,s)+r}}function n(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var i=document.cookie?document.cookie.split("; "):[],a={},r=0;r<i.length;r++){var o=i[r].split("="),f=o.slice(1).join("=");try{var m=decodeURIComponent(o[0]);if(a[m]=l.read(f,m),s===m)break}catch{}}return s?a[s]:a}}return Object.create({set:t,get:n,remove:function(s,i){t(s,"",Oe({},i,{expires:-1}))},withAttributes:function(s){return tt(this.converter,Oe({},this.attributes,s))},withConverter:function(s){return tt(Oe({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(l)}})}tt(Cn,{path:"/"});const Sn=""+new URL("../assets/chat.68b8a2e5.png",import.meta.url).href;function Tn(l){let e,t;return{c(){e=k("img"),this.h()},l(n){e=E(n,"IMG",{src:!0,alt:!0,width:!0,class:!0}),this.h()},h(){ye(e.src,t=Sn)||p(e,"src",t),p(e,"alt",""),p(e,"width",l[0]),p(e,"class","icon-chatbot svelte-1x95bcc")},m(n,s){T(n,e,s)},p(n,[s]){s&1&&p(e,"width",n[0])},i:x,o:x,d(n){n&&h(e)}}}function On(l,e,t){let{width:n="40"}=e;return l.$$set=s=>{"width"in s&&t(0,n=s.width)},[n]}class Nn extends pe{constructor(e){super(),ge(this,e,On,Tn,be,{width:0})}}function Dn(l){let e,t,n,s,i,a,r=l[1]("common.logo")+"",o;return{c(){e=k("a"),t=k("div"),n=k("img"),i=C(),a=k("span"),o=P(r),this.h()},l(f){e=E(f,"A",{href:!0,"data-sveltekit-reload":!0,class:!0});var m=L(e);t=E(m,"DIV",{class:!0});var c=L(t);n=E(c,"IMG",{src:!0,alt:!0,width:!0}),c.forEach(h),i=S(m),a=E(m,"SPAN",{class:!0});var u=L(a);o=W(u,r),u.forEach(h),m.forEach(h),this.h()},h(){ye(n.src,s=mn)||p(n,"src",s),p(n,"alt",""),p(n,"width","50"),p(t,"class",""),p(a,"class","text-[18px]"),we(a,"display",l[0]?"none":"block"),p(e,"href","/"),p(e,"data-sveltekit-reload",""),p(e,"class","ml-[10px] flex items-center relative navbar-brand text-2xl font-bold")},m(f,m){T(f,e,m),_(e,t),_(t,n),_(e,i),_(e,a),_(a,o)},p(f,[m]){m&2&&r!==(r=f[1]("common.logo")+"")&&G(o,r),m&1&&we(a,"display",f[0]?"none":"block")},i:x,o:x,d(f){f&&h(e)}}}function An(l,e,t){let n,s;return Z(l,De,i=>t(0,n=i)),Z(l,Me,i=>t(1,s=i)),[n,s]}class Rn extends pe{constructor(e){super(),ge(this,e,An,Dn,be,{})}}const Un=""+new URL("../assets/palette.bdd91657.png",import.meta.url).href;function vt(l,e,t){const n=l.slice();return n[4]=e[t],n}function Mn(l){let e=l[1]("common.dark")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.dark")+"")&&G(t,e)},d(n){n&&h(t)}}}function Pn(l){let e=l[1]("common.cupcake")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.cupcake")+"")&&G(t,e)},d(n){n&&h(t)}}}function Wn(l){let e=l[1]("common.bumblebee")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.bumblebee")+"")&&G(t,e)},d(n){n&&h(t)}}}function jn(l){let e=l[1]("common.emerald")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.emerald")+"")&&G(t,e)},d(n){n&&h(t)}}}function Bn(l){let e=l[1]("common.synthwave")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.synthwave")+"")&&G(t,e)},d(n){n&&h(t)}}}function Vn(l){let e=l[1]("common.retro")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.retro")+"")&&G(t,e)},d(n){n&&h(t)}}}function zn(l){let e=l[1]("common.cyberpunk")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.cyberpunk")+"")&&G(t,e)},d(n){n&&h(t)}}}function Gn(l){let e=l[1]("common.valentine")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.valentine")+"")&&G(t,e)},d(n){n&&h(t)}}}function qn(l){let e=l[1]("common.halloween")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.halloween")+"")&&G(t,e)},d(n){n&&h(t)}}}function Fn(l){let e=l[1]("common.garden")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.garden")+"")&&G(t,e)},d(n){n&&h(t)}}}function Hn(l){let e=l[1]("common.forest")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.forest")+"")&&G(t,e)},d(n){n&&h(t)}}}function Xn(l){let e=l[1]("common.pastel")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.pastel")+"")&&G(t,e)},d(n){n&&h(t)}}}function Jn(l){let e=l[1]("common.wireframe")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.wireframe")+"")&&G(t,e)},d(n){n&&h(t)}}}function Zn(l){let e=l[1]("common.black")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.black")+"")&&G(t,e)},d(n){n&&h(t)}}}function Yn(l){let e=l[1]("common.luxury")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.luxury")+"")&&G(t,e)},d(n){n&&h(t)}}}function Qn(l){let e=l[1]("common.dracula")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.dracula")+"")&&G(t,e)},d(n){n&&h(t)}}}function Kn(l){let e=l[1]("common.autumn")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.autumn")+"")&&G(t,e)},d(n){n&&h(t)}}}function xn(l){let e=l[1]("common.business")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.business")+"")&&G(t,e)},d(n){n&&h(t)}}}function es(l){let e=l[1]("common.acid")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.acid")+"")&&G(t,e)},d(n){n&&h(t)}}}function ts(l){let e=l[1]("common.lemonade")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.lemonade")+"")&&G(t,e)},d(n){n&&h(t)}}}function ns(l){let e=l[1]("common.night")+"",t;return{c(){t=P(e)},l(n){t=W(n,e)},m(n,s){T(n,t,s)},p(n,s){s&2&&e!==(e=n[1]("common.night")+"")&&G(t,e)},d(n){n&&h(t)}}}function wt(l){let e,t,n,s,i,a,r,o,f,m,c,u,b,d,w,v,$,y,B,g,N,A,X,Y,q=l[4]==="dark"&&Mn(l),K=l[4]==="cupcake"&&Pn(l),ee=l[4]==="bumblebee"&&Wn(l),de=l[4]==="emerald"&&jn(l),ne=l[4]==="synthwave"&&Bn(l),ue=l[4]==="retro"&&Vn(l),ce=l[4]==="cyberpunk"&&zn(l),he=l[4]==="valentine"&&Gn(l),te=l[4]==="halloween"&&qn(l),se=l[4]==="garden"&&Fn(l),me=l[4]==="forest"&&Hn(l),_e=l[4]==="pastel"&&Xn(l),le=l[4]==="wireframe"&&Jn(l),M=l[4]==="black"&&Zn(l),ve=l[4]==="luxury"&&Yn(l),F=l[4]==="dracula"&&Qn(l),H=l[4]==="autumn"&&Kn(l),O=l[4]==="business"&&xn(l),U=l[4]==="acid"&&es(l),Q=l[4]==="lemonade"&&ts(l),j=l[4]==="night"&&ns(l);return{c(){e=k("li"),t=k("button"),q&&q.c(),n=C(),K&&K.c(),s=C(),ee&&ee.c(),i=C(),de&&de.c(),a=C(),ne&&ne.c(),r=C(),ue&&ue.c(),o=C(),ce&&ce.c(),f=C(),he&&he.c(),m=C(),te&&te.c(),c=C(),se&&se.c(),u=C(),me&&me.c(),b=C(),_e&&_e.c(),d=C(),le&&le.c(),w=C(),M&&M.c(),v=C(),ve&&ve.c(),$=C(),F&&F.c(),y=C(),H&&H.c(),B=C(),O&&O.c(),g=C(),U&&U.c(),N=C(),Q&&Q.c(),A=C(),j&&j.c(),Y=C(),this.h()},l(I){e=E(I,"LI",{class:!0});var V=L(e);t=E(V,"BUTTON",{formaction:!0,class:!0});var D=L(t);q&&q.l(D),n=S(D),K&&K.l(D),s=S(D),ee&&ee.l(D),i=S(D),de&&de.l(D),a=S(D),ne&&ne.l(D),r=S(D),ue&&ue.l(D),o=S(D),ce&&ce.l(D),f=S(D),he&&he.l(D),m=S(D),te&&te.l(D),c=S(D),se&&se.l(D),u=S(D),me&&me.l(D),b=S(D),_e&&_e.l(D),d=S(D),le&&le.l(D),w=S(D),M&&M.l(D),v=S(D),ve&&ve.l(D),$=S(D),F&&F.l(D),y=S(D),H&&H.l(D),B=S(D),O&&O.l(D),g=S(D),U&&U.l(D),N=S(D),Q&&Q.l(D),A=S(D),j&&j.l(D),D.forEach(h),Y=S(V),V.forEach(h),this.h()},h(){p(t,"formaction",X="/?/setTheme&theme="+l[4]+"&redirectTo="+l[0].url.pathname),p(t,"class","svelte-1daulzm"),p(e,"class","svelte-1daulzm")},m(I,V){T(I,e,V),_(e,t),q&&q.m(t,null),_(t,n),K&&K.m(t,null),_(t,s),ee&&ee.m(t,null),_(t,i),de&&de.m(t,null),_(t,a),ne&&ne.m(t,null),_(t,r),ue&&ue.m(t,null),_(t,o),ce&&ce.m(t,null),_(t,f),he&&he.m(t,null),_(t,m),te&&te.m(t,null),_(t,c),se&&se.m(t,null),_(t,u),me&&me.m(t,null),_(t,b),_e&&_e.m(t,null),_(t,d),le&&le.m(t,null),_(t,w),M&&M.m(t,null),_(t,v),ve&&ve.m(t,null),_(t,$),F&&F.m(t,null),_(t,y),H&&H.m(t,null),_(t,B),O&&O.m(t,null),_(t,g),U&&U.m(t,null),_(t,N),Q&&Q.m(t,null),_(t,A),j&&j.m(t,null),_(e,Y)},p(I,V){I[4]==="dark"&&q.p(I,V),I[4]==="cupcake"&&K.p(I,V),I[4]==="bumblebee"&&ee.p(I,V),I[4]==="emerald"&&de.p(I,V),I[4]==="synthwave"&&ne.p(I,V),I[4]==="retro"&&ue.p(I,V),I[4]==="cyberpunk"&&ce.p(I,V),I[4]==="valentine"&&he.p(I,V),I[4]==="halloween"&&te.p(I,V),I[4]==="garden"&&se.p(I,V),I[4]==="forest"&&me.p(I,V),I[4]==="pastel"&&_e.p(I,V),I[4]==="wireframe"&&le.p(I,V),I[4]==="black"&&M.p(I,V),I[4]==="luxury"&&ve.p(I,V),I[4]==="dracula"&&F.p(I,V),I[4]==="autumn"&&H.p(I,V),I[4]==="business"&&O.p(I,V),I[4]==="acid"&&U.p(I,V),I[4]==="lemonade"&&Q.p(I,V),I[4]==="night"&&j.p(I,V),V&1&&X!==(X="/?/setTheme&theme="+I[4]+"&redirectTo="+I[0].url.pathname)&&p(t,"formaction",X)},d(I){I&&h(e),q&&q.d(),K&&K.d(),ee&&ee.d(),de&&de.d(),ne&&ne.d(),ue&&ue.d(),ce&&ce.d(),he&&he.d(),te&&te.d(),se&&se.d(),me&&me.d(),_e&&_e.d(),le&&le.d(),M&&M.d(),ve&&ve.d(),F&&F.d(),H&&H.d(),O&&O.d(),U&&U.d(),Q&&Q.d(),j&&j.d()}}}function ss(l){let e,t,n,s,i,a,r,o,f,m=l[2],c=[];for(let u=0;u<m.length;u+=1)c[u]=wt(vt(l,m,u));return{c(){e=k("li"),t=k("span"),n=k("img"),i=C(),a=k("ul"),r=k("form");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=E(u,"LI",{class:!0});var b=L(e);t=E(b,"SPAN",{class:!0});var d=L(t);n=E(d,"IMG",{src:!0,width:!0,alt:!0,class:!0}),d.forEach(h),i=S(b),a=E(b,"UL",{class:!0});var w=L(a);r=E(w,"FORM",{method:!0,class:!0});var v=L(r);for(let $=0;$<c.length;$+=1)c[$].l(v);v.forEach(h),w.forEach(h),b.forEach(h),this.h()},h(){ye(n.src,s=Un)||p(n,"src",s),p(n,"width","20"),p(n,"alt",""),p(n,"class","svelte-1daulzm"),p(t,"class","pl-0 hover:bg-base-100 svelte-1daulzm"),p(r,"method","POST"),p(r,"class","svelte-1daulzm"),p(a,"class","dropdown-menu max-h-96 overflow-y-scroll svelte-1daulzm"),p(e,"class","relative cursor-pointer svelte-1daulzm")},m(u,b){T(u,e,b),_(e,t),_(t,n),_(e,i),_(e,a),_(a,r);for(let d=0;d<c.length;d+=1)c[d].m(r,null);o||(f=Wt(Bt.call(null,r,l[3])),o=!0)},p(u,[b]){if(b&7){m=u[2];let d;for(d=0;d<m.length;d+=1){const w=vt(u,m,d);c[d]?c[d].p(w,b):(c[d]=wt(w),c[d].c(),c[d].m(r,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=m.length}},i:x,o:x,d(u){u&&h(e),lt(c,u),o=!1,f()}}}function ls(l,e,t){let n,s;return Z(l,rt,r=>t(0,n=r)),Z(l,Me,r=>t(1,s=r)),[n,s,["dark","cupcake","bumblebee","emerald","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","pastel","wireframe","black","luxury","dracula","autumn","business","acid","lemonade","night"],({action:r})=>{const o=r.searchParams.get("theme");o&&document.documentElement.setAttribute("data-theme",o)}]}class rs extends pe{constructor(e){super(),ge(this,e,ls,ss,be,{})}}const is=""+new URL("../assets/lang.d5478ce5.png",import.meta.url).href;function kt(l,e,t){const n=l.slice();return n[5]=e[t],n}function Et(l){let e,t,n=l[5]+"",s,i,a,r;function o(){return l[3](l[5])}return{c(){e=k("li"),t=k("button"),s=P(n),i=C(),this.h()},l(f){e=E(f,"LI",{});var m=L(e);t=E(m,"BUTTON",{});var c=L(t);s=W(c,n),c.forEach(h),i=S(m),m.forEach(h),this.h()},h(){we(t,"font-weight",l[0]===l[5]?"bold":"")},m(f,m){T(f,e,m),_(e,t),_(t,s),_(e,i),a||(r=oe(t,"click",o),a=!0)},p(f,m){l=f,m&1&&we(t,"font-weight",l[0]===l[5]?"bold":"")},d(f){f&&h(e),a=!1,r()}}}function as(l){let e,t,n,s,i,a,r=l[1],o=[];for(let f=0;f<r.length;f+=1)o[f]=Et(kt(l,r,f));return{c(){e=k("li"),t=k("span"),n=k("img"),i=C(),a=k("ul");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=E(f,"LI",{class:!0});var m=L(e);t=E(m,"SPAN",{class:!0});var c=L(t);n=E(c,"IMG",{src:!0,width:!0,alt:!0}),c.forEach(h),i=S(m),a=E(m,"UL",{class:!0});var u=L(a);for(let b=0;b<o.length;b+=1)o[b].l(u);u.forEach(h),m.forEach(h),this.h()},h(){ye(n.src,s=is)||p(n,"src",s),p(n,"width","24"),p(n,"alt",""),p(t,"class","pl-0 hover:bg-base-100"),p(a,"class","dropdown-menu"),p(e,"class","relative cursor-pointer")},m(f,m){T(f,e,m),_(e,t),_(t,n),_(e,i),_(e,a);for(let c=0;c<o.length;c+=1)o[c].m(a,null)},p(f,[m]){if(m&7){r=f[1];let c;for(c=0;c<r.length;c+=1){const u=kt(f,r,c);o[c]?o[c].p(u,m):(o[c]=Et(u),o[c].c(),o[c].m(a,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}},i:x,o:x,d(f){f&&h(e),lt(o,f)}}}function os(l,e,t){let n;Z(l,Te,o=>t(4,n=o));let s="English";const i=["English","日本語","繁體中文"],a=o=>{o==="English"&&(J(Te,n="en",n),t(0,s="English")),o==="日本語"&&(J(Te,n="ja",n),t(0,s="日本語")),o==="繁體中文"&&(J(Te,n="zh-TW",n),t(0,s="繁體中文"))};return[s,i,a,o=>a(o)]}class fs extends pe{constructor(e){super(),ge(this,e,os,as,be,{})}}const $t=""+new URL("../assets/avatar.a95d545a.png",import.meta.url).href;function yt(l){var i,a;let e,t,n=((a=l[1].data.user)==null?void 0:a.user.email.substring(0,(i=l[1].data.user)==null?void 0:i.user.email.indexOf("@")))+"",s;return{c(){e=k("li"),t=k("button"),s=P(n),this.h()},l(r){e=E(r,"LI",{});var o=L(e);t=E(o,"BUTTON",{class:!0});var f=L(t);s=W(f,n),f.forEach(h),o.forEach(h),this.h()},h(){p(t,"class","cursor-default"),we(t,"background","none")},m(r,o){T(r,e,o),_(e,t),_(t,s)},p(r,o){var f,m;o&2&&n!==(n=((m=r[1].data.user)==null?void 0:m.user.email.substring(0,(f=r[1].data.user)==null?void 0:f.user.email.indexOf("@")))+"")&&G(s,n)},d(r){r&&h(e)}}}function Lt(l){var i,a;let e,t,n=((i=l[1].data.user)==null?void 0:i.user.email)&&l[1].url.pathname!=="/dashboard"&&l[1].url.pathname!=="/auth"&&It(l),s=!((a=l[1].data.user)!=null&&a.user.email)&&l[1].url.pathname!=="/auth"&&Ct(l);return{c(){n&&n.c(),e=C(),s&&s.c(),t=Le()},l(r){n&&n.l(r),e=S(r),s&&s.l(r),t=Le()},m(r,o){n&&n.m(r,o),T(r,e,o),s&&s.m(r,o),T(r,t,o)},p(r,o){var f,m;(f=r[1].data.user)!=null&&f.user.email&&r[1].url.pathname!=="/dashboard"&&r[1].url.pathname!=="/auth"?n?n.p(r,o):(n=It(r),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),!((m=r[1].data.user)!=null&&m.user.email)&&r[1].url.pathname!=="/auth"?s?s.p(r,o):(s=Ct(r),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(r){n&&n.d(r),r&&h(e),s&&s.d(r),r&&h(t)}}}function It(l){let e,t,n=l[3]("common.dashboard")+"",s,i,a;return{c(){e=k("li"),t=k("button"),s=P(n)},l(r){e=E(r,"LI",{});var o=L(e);t=E(o,"BUTTON",{});var f=L(t);s=W(f,n),f.forEach(h),o.forEach(h)},m(r,o){T(r,e,o),_(e,t),_(t,s),i||(a=oe(t,"click",l[6]),i=!0)},p(r,o){o&8&&n!==(n=r[3]("common.dashboard")+"")&&G(s,n)},d(r){r&&h(e),i=!1,a()}}}function Ct(l){let e,t,n=l[3]("common.login")+"",s,i,a;return{c(){e=k("li"),t=k("button"),s=P(n)},l(r){e=E(r,"LI",{});var o=L(e);t=E(o,"BUTTON",{});var f=L(t);s=W(f,n),f.forEach(h),o.forEach(h)},m(r,o){T(r,e,o),_(e,t),_(t,s),i||(a=oe(t,"click",l[7]),i=!0)},p(r,o){o&8&&n!==(n=r[3]("common.login")+"")&&G(s,n)},d(r){r&&h(e),i=!1,a()}}}function St(l){let e,t,n,s=l[3]("common.logout")+"",i,a,r;return{c(){e=k("li"),t=k("form"),n=k("button"),i=P(s),this.h()},l(o){e=E(o,"LI",{});var f=L(e);t=E(f,"FORM",{action:!0,method:!0});var m=L(t);n=E(m,"BUTTON",{type:!0,class:!0});var c=L(n);i=W(c,s),c.forEach(h),m.forEach(h),f.forEach(h),this.h()},h(){p(n,"type","submit"),p(n,"class",""),p(t,"action","/logout"),p(t,"method","POST")},m(o,f){T(o,e,f),_(e,t),_(t,n),_(n,i),a||(r=Wt(Bt.call(null,t,l[4])),a=!0)},p(o,f){f&8&&s!==(s=o[3]("common.logout")+"")&&G(i,s)},d(o){o&&h(e),a=!1,r()}}}function us(l){var B,g;let e,t,n,s,i,a,r,o,f,m,c=l[3]("common.chat")+"",u,b,d,w,v=((B=l[1].data.user)==null?void 0:B.user.email)&&yt(l),$=l[2]&&Lt(l),y=((g=l[1].data.user)==null?void 0:g.user.email)&&St(l);return{c(){e=k("li"),t=k("span"),n=k("img"),i=C(),a=k("ul"),v&&v.c(),r=C(),$&&$.c(),o=C(),f=k("li"),m=k("button"),u=P(c),b=C(),y&&y.c(),this.h()},l(N){e=E(N,"LI",{class:!0});var A=L(e);t=E(A,"SPAN",{class:!0});var X=L(t);n=E(X,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),X.forEach(h),i=S(A),a=E(A,"UL",{class:!0});var Y=L(a);v&&v.l(Y),r=S(Y),$&&$.l(Y),o=S(Y),f=E(Y,"LI",{});var q=L(f);m=E(q,"BUTTON",{});var K=L(m);u=W(K,c),K.forEach(h),q.forEach(h),b=S(Y),y&&y.l(Y),Y.forEach(h),A.forEach(h),this.h()},h(){var N;ye(n.src,s=(N=l[1].data.user)!=null&&N.user.user_metadata.avatar_url?l[1].data.user.user.user_metadata.avatar_url:$t)||p(n,"src",s),p(n,"alt",""),p(n,"width","30"),p(n,"height","30"),p(n,"class","rounded-full"),p(t,"class","pl-0 hover:bg-base-100"),we(m,"font-weight",l[0]?"bold":""),p(a,"class","dropdown-menu"),p(e,"class","")},m(N,A){T(N,e,A),_(e,t),_(t,n),_(e,i),_(e,a),v&&v.m(a,null),_(a,r),$&&$.m(a,null),_(a,o),_(a,f),_(f,m),_(m,u),_(a,b),y&&y.m(a,null),d||(w=oe(m,"click",l[5]),d=!0)},p(N,[A]){var X,Y,q;A&2&&!ye(n.src,s=(X=N[1].data.user)!=null&&X.user.user_metadata.avatar_url?N[1].data.user.user.user_metadata.avatar_url:$t)&&p(n,"src",s),(Y=N[1].data.user)!=null&&Y.user.email?v?v.p(N,A):(v=yt(N),v.c(),v.m(a,r)):v&&(v.d(1),v=null),N[2]?$?$.p(N,A):($=Lt(N),$.c(),$.m(a,o)):$&&($.d(1),$=null),A&8&&c!==(c=N[3]("common.chat")+"")&&G(u,c),A&1&&we(m,"font-weight",N[0]?"bold":""),(q=N[1].data.user)!=null&&q.user.email?y?y.p(N,A):(y=St(N),y.c(),y.m(a,null)):y&&(y.d(1),y=null)},i:x,o:x,d(N){N&&h(e),v&&v.d(),$&&$.d(),y&&y.d(),d=!1,w()}}}function cs(l,e,t){let n,s,i,a,r;return Z(l,Ie,u=>t(8,n=u)),Z(l,Ke,u=>t(0,s=u)),Z(l,rt,u=>t(1,i=u)),Z(l,Ae,u=>t(2,a=u)),Z(l,Me,u=>t(3,r=u)),[s,i,a,r,async({cancel:u})=>{const{error:b}=await jt.auth.signOut();b&&console.log(b),u()},()=>{J(Ke,s=!s,s),J(Ie,n=!1,n)},()=>dt("/dashboard"),()=>dt("/dashboard")]}class hs extends pe{constructor(e){super(),ge(this,e,cs,us,be,{})}}const ds=""+new URL("../assets/panel.e05604fa.png",import.meta.url).href,ms=""+new URL("../assets/enter.53101733.png",import.meta.url).href;function Tt(l){let e,t,n;return{c(){e=k("a"),t=k("img"),this.h()},l(s){e=E(s,"A",{href:!0,class:!0});var i=L(e);t=E(i,"IMG",{src:!0,width:!0,alt:!0}),i.forEach(h),this.h()},h(){ye(t.src,n=ms)||p(t,"src",n),p(t,"width","24"),p(t,"alt",""),p(e,"href","/auth"),p(e,"class","mr-4 borde max-[530px]:hidden")},m(s,i){T(s,e,i),_(e,t)},p:x,d(s){s&&h(e)}}}function Ot(l){let e,t,n,s;return{c(){e=k("li"),t=k("a"),n=k("img"),this.h()},l(i){e=E(i,"LI",{});var a=L(e);t=E(a,"A",{href:!0,class:!0});var r=L(t);n=E(r,"IMG",{src:!0,width:!0,alt:!0}),r.forEach(h),a.forEach(h),this.h()},h(){ye(n.src,s=ds)||p(n,"src",s),p(n,"width","24"),p(n,"alt",""),p(t,"href","/dashboard"),p(t,"class","max-[530px]:hidden pl-0 mr-1 hover:bg-base-100")},m(i,a){T(i,e,a),_(e,t),_(t,n)},p:x,d(i){i&&h(e)}}}function _s(l){var y,B;let e,t,n,s,i,a,r,o,f,m,c,u,b,d,w;n=new Rn({}),o=new rs({}),m=new fs({});let v=l[0].url.pathname==="/"&&!((y=l[0].data.user)!=null&&y.user.email)&&Tt(),$=((B=l[0].data.user)==null?void 0:B.user.email)&&l[0].url.pathname!=="/dashboard"&&l[0].url.pathname!=="/auth"&&Ot();return d=new hs({}),{c(){e=k("div"),t=k("nav"),re(n.$$.fragment),s=C(),i=k("ul"),a=k("div"),r=k("ul"),re(o.$$.fragment),f=C(),re(m.$$.fragment),c=C(),v&&v.c(),u=C(),$&&$.c(),b=C(),re(d.$$.fragment),this.h()},l(g){e=E(g,"DIV",{class:!0});var N=L(e);t=E(N,"NAV",{class:!0});var A=L(t);fe(n.$$.fragment,A),s=S(A),i=E(A,"UL",{class:!0});var X=L(i);a=E(X,"DIV",{class:!0});var Y=L(a);r=E(Y,"UL",{class:!0});var q=L(r);fe(o.$$.fragment,q),f=S(q),fe(m.$$.fragment,q),c=S(q),v&&v.l(q),u=S(q),$&&$.l(q),b=S(q),fe(d.$$.fragment,q),q.forEach(h),Y.forEach(h),X.forEach(h),A.forEach(h),N.forEach(h),this.h()},h(){p(r,"class","menu menu-horizontal px-1 z-50 flex items-center"),p(a,"class","side-men"),p(i,"class","flex items-center"),p(t,"class","py-2 relative flex justify-between items-center"),p(e,"class","bg-base/30 backdrop-blur-2xl fixed top-0 left-0 right-0 z-50")},m(g,N){T(g,e,N),_(e,t),ie(n,t,null),_(t,s),_(t,i),_(i,a),_(a,r),ie(o,r,null),_(r,f),ie(m,r,null),_(r,c),v&&v.m(r,null),_(r,u),$&&$.m(r,null),_(r,b),ie(d,r,null),w=!0},p(g,[N]){var A,X;g[0].url.pathname==="/"&&!((A=g[0].data.user)!=null&&A.user.email)?v?v.p(g,N):(v=Tt(),v.c(),v.m(r,u)):v&&(v.d(1),v=null),(X=g[0].data.user)!=null&&X.user.email&&g[0].url.pathname!=="/dashboard"&&g[0].url.pathname!=="/auth"?$?$.p(g,N):($=Ot(),$.c(),$.m(r,b)):$&&($.d(1),$=null)},i(g){w||(R(n.$$.fragment,g),R(o.$$.fragment,g),R(m.$$.fragment,g),R(d.$$.fragment,g),w=!0)},o(g){z(n.$$.fragment,g),z(o.$$.fragment,g),z(m.$$.fragment,g),z(d.$$.fragment,g),w=!1},d(g){g&&h(e),ae(n),ae(o),ae(m),v&&v.d(),$&&$.d(),ae(d)}}}function ps(l,e,t){let n;return Z(l,rt,s=>t(0,n=s)),[n]}class gs extends pe{constructor(e){super(),ge(this,e,ps,_s,be,{})}}var Vt={};(function(l){var e=function(t,n){if(!(this instanceof e))return new e(t,n);this.INITIALIZING=-1,this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,this.url=t,n=n||{},this.headers=n.headers||{},this.payload=n.payload!==void 0?n.payload:"",this.method=n.method||this.payload&&"POST"||"GET",this.withCredentials=!!n.withCredentials,this.FIELD_SEPARATOR=":",this.listeners={},this.xhr=null,this.readyState=this.INITIALIZING,this.progress=0,this.chunk="",this.addEventListener=function(s,i){this.listeners[s]===void 0&&(this.listeners[s]=[]),this.listeners[s].indexOf(i)===-1&&this.listeners[s].push(i)},this.removeEventListener=function(s,i){if(this.listeners[s]!==void 0){var a=[];this.listeners[s].forEach(function(r){r!==i&&a.push(r)}),a.length===0?delete this.listeners[s]:this.listeners[s]=a}},this.dispatchEvent=function(s){if(!s)return!0;s.source=this;var i="on"+s.type;return this.hasOwnProperty(i)&&(this[i].call(this,s),s.defaultPrevented)?!1:this.listeners[s.type]?this.listeners[s.type].every(function(a){return a(s),!s.defaultPrevented}):!0},this._setReadyState=function(s){var i=new CustomEvent("readystatechange");i.readyState=s,this.readyState=s,this.dispatchEvent(i)},this._onStreamFailure=function(s){var i=new CustomEvent("error");i.data=s.currentTarget.response,this.dispatchEvent(i),this.close()},this._onStreamAbort=function(s){this.dispatchEvent(new CustomEvent("abort")),this.close()},this._onStreamProgress=function(s){if(this.xhr){if(this.xhr.status!==200){this._onStreamFailure(s);return}this.readyState==this.CONNECTING&&(this.dispatchEvent(new CustomEvent("open")),this._setReadyState(this.OPEN));var i=this.xhr.responseText.substring(this.progress);this.progress+=i.length,i.split(/(\r\n|\r|\n){2}/g).forEach(function(a){a.trim().length===0?(this.dispatchEvent(this._parseEventChunk(this.chunk.trim())),this.chunk=""):this.chunk+=a}.bind(this))}},this._onStreamLoaded=function(s){this._onStreamProgress(s),this.dispatchEvent(this._parseEventChunk(this.chunk)),this.chunk=""},this._parseEventChunk=function(s){if(!s||s.length===0)return null;var i={id:null,retry:null,data:"",event:"message"};s.split(/\n|\r\n|\r/).forEach(function(r){r=r.trimRight();var o=r.indexOf(this.FIELD_SEPARATOR);if(!(o<=0)){var f=r.substring(0,o);if(f in i){var m=r.substring(o+1).trimLeft();f==="data"?i[f]+=m:i[f]=m}}}.bind(this));var a=new CustomEvent(i.event);return a.data=i.data,a.id=i.id,a},this._checkStreamClosed=function(){this.xhr&&this.xhr.readyState===XMLHttpRequest.DONE&&this._setReadyState(this.CLOSED)},this.stream=function(){this._setReadyState(this.CONNECTING),this.xhr=new XMLHttpRequest,this.xhr.addEventListener("progress",this._onStreamProgress.bind(this)),this.xhr.addEventListener("load",this._onStreamLoaded.bind(this)),this.xhr.addEventListener("readystatechange",this._checkStreamClosed.bind(this)),this.xhr.addEventListener("error",this._onStreamFailure.bind(this)),this.xhr.addEventListener("abort",this._onStreamAbort.bind(this)),this.xhr.open(this.method,this.url);for(var s in this.headers)this.xhr.setRequestHeader(s,this.headers[s]);this.xhr.withCredentials=this.withCredentials,this.xhr.send(this.payload)},this.close=function(){this.readyState!==this.CLOSED&&(this.xhr.abort(),this.xhr=null,this._setReadyState(this.CLOSED))}};l.SSE=e})(Vt);function bs(l){let e,t,n,s,i;return{c(){e=k("div"),t=k("div"),n=P(l[1]),this.h()},l(a){e=E(a,"DIV",{class:!0});var r=L(e);t=E(r,"DIV",{class:!0});var o=L(t);n=W(o,l[1]),o.forEach(h),r.forEach(h),this.h()},h(){p(t,"class",s="chat-bubble text-[14px] flex items-center rounded-[8px] "+(l[0]==="user"?"chat-bubble-primary":"chat-bubble-secondary")),p(e,"class",i="chat "+(l[0]==="user"?"chat-end":"chat-start")+" justify-end")},m(a,r){T(a,e,r),_(e,t),_(t,n)},p(a,[r]){r&2&&G(n,a[1]),r&1&&s!==(s="chat-bubble text-[14px] flex items-center rounded-[8px] "+(a[0]==="user"?"chat-bubble-primary":"chat-bubble-secondary"))&&p(t,"class",s),r&1&&i!==(i="chat "+(a[0]==="user"?"chat-end":"chat-start")+" justify-end")&&p(e,"class",i)},i:x,o:x,d(a){a&&h(e)}}}function vs(l,e,t){let{type:n}=e,{message:s}=e;return l.$$set=i=>{"type"in i&&t(0,n=i.type),"message"in i&&t(1,s=i.message)},[n,s]}class Pe extends pe{constructor(e){super(),ge(this,e,vs,bs,be,{type:0,message:1})}}function ws(l){let e,t,n,s;return{c(){e=je("svg"),t=je("title"),n=P("Close"),s=je("path"),this.h()},l(i){e=Be(i,"svg",{xmlns:!0,class:!0,viewBox:!0,width:!0,height:!0});var a=L(e);t=Be(a,"title",{});var r=L(t);n=W(r,"Close"),r.forEach(h),s=Be(a,"path",{fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),L(s).forEach(h),a.forEach(h),this.h()},h(){p(s,"fill","none"),p(s,"stroke","currentColor"),p(s,"stroke-linecap","round"),p(s,"stroke-linejoin","round"),p(s,"stroke-width","32"),p(s,"d","M368 368L144 144M368 144L144 368"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"class","ionicon"),p(e,"viewBox","0 0 512 512"),p(e,"width",l[0]),p(e,"height",l[1])},m(i,a){T(i,e,a),_(e,t),_(t,n),_(e,s)},p(i,[a]){a&1&&p(e,"width",i[0]),a&2&&p(e,"height",i[1])},i:x,o:x,d(i){i&&h(e)}}}function ks(l,e,t){let{width:n="24",height:s="24"}=e;return l.$$set=i=>{"width"in i&&t(0,n=i.width),"height"in i&&t(1,s=i.height)},[n,s]}class Es extends pe{constructor(e){super(),ge(this,e,ks,ws,be,{width:0,height:1})}}function Nt(l,e,t){const n=l.slice();return n[17]=e[t],n}function Dt(l){let e,t;return e=new Pe({props:{type:l[17].role,message:l[17].content}}),{c(){re(e.$$.fragment)},l(n){fe(e.$$.fragment,n)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s&8&&(i.type=n[17].role),s&8&&(i.message=n[17].content),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function At(l){let e,t;return e=new Pe({props:{type:"assistant",message:l[1]}}),{c(){re(e.$$.fragment)},l(n){fe(e.$$.fragment,n)},m(n,s){ie(e,n,s),t=!0},p(n,s){const i={};s&2&&(i.message=n[1]),e.$set(i)},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function Rt(l){let e,t;return e=new Pe({props:{type:"assistant",message:"Loading.."}}),{c(){re(e.$$.fragment)},l(n){fe(e.$$.fragment,n)},m(n,s){ie(e,n,s),t=!0},i(n){t||(R(e.$$.fragment,n),t=!0)},o(n){z(e.$$.fragment,n),t=!1},d(n){ae(e,n)}}}function $s(l){let e,t,n,s,i,a,r,o=l[5]("common.logo_long")+"",f,m,c,u=l[5]("common.chatbot_description")+"",b,d,w,v,$,y,B,g,N,A,X,Y,q,K,ee,de,ne,ue,ce=l[5]("common.send")+"",he,te,se,me,_e;s=new _n({props:{width:"46"}}),v=new Es({}),B=new Pe({props:{type:"assistant",message:l[5]("common.chatbot_initial_prompt")}});let le=l[3],M=[];for(let O=0;O<le.length;O+=1)M[O]=Dt(Nt(l,le,O));const ve=O=>z(M[O],1,1,()=>{M[O]=null});let F=l[1]&&At(l),H=l[2]&&Rt();return{c(){e=k("div"),t=k("div"),n=k("div"),re(s.$$.fragment),i=C(),a=k("div"),r=k("span"),f=P(o),m=C(),c=k("span"),b=P(u),d=C(),w=k("div"),re(v.$$.fragment),$=C(),y=k("div"),re(B.$$.fragment),g=C();for(let O=0;O<M.length;O+=1)M[O].c();N=C(),F&&F.c(),A=C(),H&&H.c(),X=C(),Y=k("div"),q=C(),K=k("form"),ee=k("input"),de=C(),ne=k("button"),ue=k("span"),he=P(ce),this.h()},l(O){e=E(O,"DIV",{class:!0});var U=L(e);t=E(U,"DIV",{class:!0});var Q=L(t);n=E(Q,"DIV",{class:!0});var j=L(n);fe(s.$$.fragment,j),i=S(j),a=E(j,"DIV",{class:!0});var I=L(a);r=E(I,"SPAN",{class:!0});var V=L(r);f=W(V,o),V.forEach(h),m=S(I),c=E(I,"SPAN",{class:!0});var D=L(c);b=W(D,u),D.forEach(h),I.forEach(h),d=S(j),w=E(j,"DIV",{class:!0});var at=L(w);fe(v.$$.fragment,at),at.forEach(h),j.forEach(h),$=S(Q),y=E(Q,"DIV",{class:!0});var ke=L(y);fe(B.$$.fragment,ke),g=S(ke);for(let We=0;We<M.length;We+=1)M[We].l(ke);N=S(ke),F&&F.l(ke),A=S(ke),H&&H.l(ke),ke.forEach(h),X=S(Q),Y=E(Q,"DIV",{class:!0}),L(Y).forEach(h),Q.forEach(h),q=S(U),K=E(U,"FORM",{class:!0});var Ce=L(K);ee=E(Ce,"INPUT",{type:!0,class:!0}),de=S(Ce),ne=E(Ce,"BUTTON",{type:!0,class:!0});var ot=L(ne);ue=E(ot,"SPAN",{});var ft=L(ue);he=W(ft,ce),ft.forEach(h),ot.forEach(h),Ce.forEach(h),U.forEach(h),this.h()},h(){p(r,"class","text-[18px]"),p(c,"class","text-[14px]"),p(a,"class","description ml-[10px] flex flex-col"),p(w,"class","icon-close-wrapper ml-auto cursor-pointer"),p(n,"class","chat-window-header w-full px-4 bg-base-100 backdrop-blur-2xl py-3 flex items-center shadow-neutral/10 shadow-md"),p(y,"class","mt-[0px] overflow-y-aut flex flex-col gap-2 pt-[0px] px-4"),p(Y,"class",""),p(t,"class","inner-wrapper max-[400px]:w-full shadow-neutral/50 shadow-md h-[300px] w-[350px] pt-[0px] bg-base-200 backdrop-blur-2xl max-[400px]:rounded-t-[0px] rounded-t-[8px] overflow-y-auto flex flex-col gap-4 svelte-13v7yfo"),p(ee,"type","text"),p(ee,"class","w-[70%] border-none rounded-none outline-none svelte-13v7yfo"),p(ne,"type","submit"),p(ne,"class","text-[14px] rounded-[04px] px-[10px] w-[30%]"),p(K,"class","max-[400px]:h-[50px] relative flex w-full max-[400px]:rounded-none rounded-b-[8px] shadow-neutral/20 shadow-md bg-base-300"),p(e,"class","pt-[0px] flex flex-col pt-4 w- px-0 items-center gap-")},m(O,U){T(O,e,U),_(e,t),_(t,n),ie(s,n,null),_(n,i),_(n,a),_(a,r),_(r,f),_(a,m),_(a,c),_(c,b),_(n,d),_(n,w),ie(v,w,null),_(t,$),_(t,y),ie(B,y,null),_(y,g);for(let Q=0;Q<M.length;Q+=1)M[Q].m(y,null);_(y,N),F&&F.m(y,null),_(y,A),H&&H.m(y,null),_(t,X),_(t,Y),l[13](Y),_(e,q),_(e,K),_(K,ee),ht(ee,l[0]),_(K,de),_(K,ne),_(ne,ue),_(ue,he),se=!0,me||(_e=[oe(w,"keydown",l[11]),oe(w,"click",l[12]),oe(ee,"input",l[14]),oe(K,"submit",sn(l[7])),oe(e,"click",ln(l[9])),oe(e,"keydown",l[10])],me=!0)},p(O,[U]){(!se||U&32)&&o!==(o=O[5]("common.logo_long")+"")&&G(f,o),(!se||U&32)&&u!==(u=O[5]("common.chatbot_description")+"")&&G(b,u);const Q={};if(U&32&&(Q.message=O[5]("common.chatbot_initial_prompt")),B.$set(Q),U&8){le=O[3];let j;for(j=0;j<le.length;j+=1){const I=Nt(O,le,j);M[j]?(M[j].p(I,U),R(M[j],1)):(M[j]=Dt(I),M[j].c(),R(M[j],1),M[j].m(y,N))}for(Ee(),j=le.length;j<M.length;j+=1)ve(j);$e()}O[1]?F?(F.p(O,U),U&2&&R(F,1)):(F=At(O),F.c(),R(F,1),F.m(y,A)):F&&(Ee(),z(F,1,1,()=>{F=null}),$e()),O[2]?H?U&4&&R(H,1):(H=Rt(),H.c(),R(H,1),H.m(y,null)):H&&(Ee(),z(H,1,1,()=>{H=null}),$e()),U&1&&ee.value!==O[0]&&ht(ee,O[0]),(!se||U&32)&&ce!==(ce=O[5]("common.send")+"")&&G(he,ce)},i(O){if(!se){R(s.$$.fragment,O),R(v.$$.fragment,O),R(B.$$.fragment,O);for(let U=0;U<le.length;U+=1)R(M[U]);R(F),R(H),st(()=>{te||(te=Re(e,l[8],{},!0)),te.run(1)}),se=!0}},o(O){z(s.$$.fragment,O),z(v.$$.fragment,O),z(B.$$.fragment,O),M=M.filter(Boolean);for(let U=0;U<M.length;U+=1)z(M[U]);z(F),z(H),te||(te=Re(e,l[8],{},!1)),te.run(0),se=!1},d(O){O&&h(e),ae(s),ae(v),ae(B),lt(M,O),F&&F.d(),H&&H.d(),l[13](null),O&&te&&te.end(),me=!1,Ue(_e)}}}function ys(l,e,t){let n,s;Z(l,Me,g=>t(5,n=g)),Z(l,Ie,g=>t(6,s=g));let i="",a="",r=!1,o=[],f;function m(){setTimeout(function(){f.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},100)}const c=async()=>{t(2,r=!0),t(3,o=[...o,{role:"user",content:i}]);const g=new Vt.SSE("/api/chat",{headers:{"Content-Type":"application/json"},payload:JSON.stringify({messages:o})});t(0,i=""),g.addEventListener("error",u),g.addEventListener("message",N=>{m();try{if(t(2,r=!1),N.data==="[DONE]"){t(3,o=[...o,{role:"assistant",content:a}]),t(1,a="");return}const A=JSON.parse(N.data),[{delta:X}]=A.choices;X.content&&t(1,a=(a??"")+X.content)}catch(A){u(A)}}),g.stream(),m()};function u(g){t(2,r=!1),t(0,i=""),t(1,a=""),console.error(g)}function b(g,N){const A=getComputedStyle(g).transform.replace("none","");return{delay:N.delay||0,duration:N.duration||400,easing:N.easing||it,css:(X,Y)=>`transform-origin: bottom right; transform: ${A} scaleY(${X}) scaleX(${X}); opacity: ${X};`}}function d(g){Ne.call(this,l,g)}function w(g){Ne.call(this,l,g)}function v(g){Ne.call(this,l,g)}const $=()=>J(Ie,s=!1,s);function y(g){rn[g?"unshift":"push"](()=>{f=g,t(4,f)})}function B(){i=this.value,t(0,i)}return[i,a,r,o,f,n,s,c,b,d,w,v,$,y,B]}class Ls extends pe{constructor(e){super(),ge(this,e,ys,$s,be,{})}}function Ut(l){let e,t,n,s,i,a;return t=new Nn({props:{width:"50"}}),{c(){e=k("div"),re(t.$$.fragment),this.h()},l(r){e=E(r,"DIV",{class:!0});var o=L(e);fe(t.$$.fragment,o),o.forEach(h),this.h()},h(){p(e,"class","fixed bottom-[20px] right-[20px] cursor-pointer")},m(r,o){T(r,e,o),ie(t,e,null),s=!0,i||(a=[oe(e,"keydown",l[5]),oe(e,"click",l[6])],i=!0)},p:x,i(r){s||(R(t.$$.fragment,r),st(()=>{n||(n=Re(e,xe,{},!0)),n.run(1)}),s=!0)},o(r){z(t.$$.fragment,r),n||(n=Re(e,xe,{},!1)),n.run(0),s=!1},d(r){r&&h(e),ae(t),r&&n&&n.end(),i=!1,Ue(a)}}}function Mt(l){let e,t,n;return t=new Ls({}),{c(){e=k("div"),re(t.$$.fragment),this.h()},l(s){e=E(s,"DIV",{class:!0});var i=L(e);fe(t.$$.fragment,i),i.forEach(h),this.h()},h(){p(e,"class","fixed bottom-[70px] right-[10px] max-[400px]:top-0 max-[400px]:right-0 z-[51] max-[400px]:w-full max-[400px]:h-full max-[400px]:rounded-0")},m(s,i){T(s,e,i),ie(t,e,null),n=!0},i(s){n||(R(t.$$.fragment,s),n=!0)},o(s){z(t.$$.fragment,s),n=!1},d(s){s&&h(e),ae(t)}}}function Is(l){let e,t,n,s,i,a,r,o,f;t=new In({}),i=new gs({});const m=l[4].default,c=an(m,l,l[3],null);let u=l[2]&&Ut(l),b=l[1]&&l[2]&&Mt();return{c(){e=C(),re(t.$$.fragment),n=C(),s=k("div"),re(i.$$.fragment),a=C(),c&&c.c(),r=C(),u&&u.c(),o=C(),b&&b.c(),this.h()},l(d){on("svelte-sxcpqc",document.head).forEach(h),e=S(d),fe(t.$$.fragment,d),n=S(d),s=E(d,"DIV",{class:!0});var v=L(s);fe(i.$$.fragment,v),a=S(v),c&&c.l(v),r=S(v),u&&u.l(v),o=S(v),b&&b.l(v),v.forEach(h),this.h()},h(){document.title="ShortMaster",p(s,"class","max-w-[1600px] mx-auto relative overflow-auto"),we(s,"height",l[0]&&l[1]?"100vh":"auto"),we(s,"overflow-y",l[0]&&l[1]?"hidden":"auto")},m(d,w){T(d,e,w),ie(t,d,w),T(d,n,w),T(d,s,w),ie(i,s,null),_(s,a),c&&c.m(s,null),_(s,r),u&&u.m(s,null),_(s,o),b&&b.m(s,null),f=!0},p(d,[w]){c&&c.p&&(!f||w&8)&&fn(c,m,d,d[3],f?cn(m,d[3],w,null):un(d[3]),null),d[2]?u?(u.p(d,w),w&4&&R(u,1)):(u=Ut(d),u.c(),R(u,1),u.m(s,o)):u&&(Ee(),z(u,1,1,()=>{u=null}),$e()),d[1]&&d[2]?b?w&6&&R(b,1):(b=Mt(),b.c(),R(b,1),b.m(s,null)):b&&(Ee(),z(b,1,1,()=>{b=null}),$e()),w&3&&we(s,"height",d[0]&&d[1]?"100vh":"auto"),w&3&&we(s,"overflow-y",d[0]&&d[1]?"hidden":"auto")},i(d){f||(R(t.$$.fragment,d),R(i.$$.fragment,d),R(c,d),R(u),R(b),f=!0)},o(d){z(t.$$.fragment,d),z(i.$$.fragment,d),z(c,d),z(u),z(b),f=!1},d(d){d&&h(e),ae(t,d),d&&h(n),d&&h(s),ae(i),c&&c.d(d),u&&u.d(),b&&b.d()}}}function Cs(l,e,t){let n,s,i,a,r,o,f,m,c,u,b,d;Z(l,De,g=>t(7,n=g)),Z(l,ze,g=>t(8,s=g)),Z(l,Ge,g=>t(9,i=g)),Z(l,Ve,g=>t(0,a=g)),Z(l,qe,g=>t(10,r=g)),Z(l,Fe,g=>t(11,o=g)),Z(l,He,g=>t(12,f=g)),Z(l,Ae,g=>t(13,m=g)),Z(l,Xe,g=>t(14,c=g)),Z(l,Je,g=>t(15,u=g)),Z(l,Ie,g=>t(1,b=g)),Z(l,Ke,g=>t(2,d=g));let{$$slots:w={},$$scope:v}=e;const $=()=>{window.innerWidth<=680&&J(Je,u=!0,u),window.innerWidth>680&&J(Je,u=!1,u),window.innerWidth<=560&&J(Xe,c=!0,c),window.innerWidth>560&&J(Xe,c=!1,c),window.innerWidth<=530&&J(Ae,m=!0,m),window.innerWidth>530&&J(Ae,m=!1,m),window.innerWidth<=490&&J(He,f=!0,f),window.innerWidth>490&&J(He,f=!1,f),window.innerWidth<=480&&J(Fe,o=!0,o),window.innerWidth>480&&J(Fe,o=!1,o),window.innerWidth<=425&&J(qe,r=!0,r),window.innerWidth>425&&J(qe,r=!1,r),window.innerWidth<=400&&J(Ve,a=!0,a),window.innerWidth>400&&J(Ve,a=!1,a),window.innerWidth<=382&&J(Ge,i=!0,i),window.innerWidth>382&&J(Ge,i=!1,i),window.innerWidth<=360&&J(ze,s=!0,s),window.innerWidth>360&&J(ze,s=!1,s),window.innerWidth<=320&&J(De,n=!0,n),window.innerWidth>320&&J(De,n=!1,n)};Pt(()=>{$();const{data:{subscription:g}}=jt.auth.onAuthStateChange(()=>{console.log("Auth state change detected"),hn()});return()=>{g.unsubscribe()}});function y(g){Ne.call(this,l,g)}const B=()=>J(Ie,b=!b,b);return l.$$set=g=>{"$$scope"in g&&t(3,v=g.$$scope)},window.addEventListener("resize",()=>$()),[a,b,d,v,w,y,B]}class js extends pe{constructor(e){super(),ge(this,e,Cs,Is,be,{})}}export{js as default};
